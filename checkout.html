<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CheckoutBasket</title>
    <link rel="stylesheet" href="css/checkout.css">
</head>
<body>
 <h1>Shopping List for checkout</h1>
    
    <ol>

    </ol>
    
<script>
             
        const list = document.querySelector('ol');
        const input = document.querySelector('input');
        const button = document.querySelector('button');

        
    if(localStorage.clickcount != 0){
        
        let arrList = JSON.parse(localStorage['mylist']);
        
        let myList = [];
        
        myList = arrList;
        
        let k=0;
        
        while(k<localStorage.clickcount){
              
        let myItem = myList[k].name +
        " (quantity: " + myList[k].quantity +
        ", colour: " + myList[k].color +
        ", discount: " + myList[k].sale + "% Off" +
        ", price: $" + myList[k].price +
        ",  sale price: $"+
        myList[k].salePrice
        +")"; 
              
      
            const listItem = document.createElement('li');
            const listText = document.createElement('span');
            const listBtn = document.createElement('button');

            listItem.appendChild(listText);
            listText.textContent = myItem;


            listItem.appendChild(listBtn);
            listBtn.textContent = 'Delete';
            list.appendChild(listItem);
            
            listBtn.onclick = function(e) {
            list.removeChild(listItem);
                
                var myList = JSON.parse(localStorage['mylist']);
                
                let arrList =[];
                
                arrList = myList;
                
                arrList.pop();
                
              localStorage['mylist'] = JSON.stringify(arrList);
                
                localStorage.clickcount = localStorage.clickcount -1;
                                
            }
                  k++;
            

                  
        }//end while
        
        }//end if(localStorage.clickcount != 0)
  
</script>
   

<!--
<script src="js/checkout.js"></script>
-->
</body>
</html>